<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
    
    <section class="seccion">
        <img [src]="rutaImagen1" alt="logo1" class="imagen1">
        <div class="columna">
        <h1>Registrar juego</h1>
    <form id="formulario" (ngSubmit)="registroJuego()" method="POST" enctype="multipart/form-data">
        <div class="row">
            <!-- monbre juego input -->
            <div class="col-md-6">
                <div data-mdb-input-init class="form-outline mb-4">
                    <input *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.nombre" type="text" name="nombre" class="form-control" placeholder="Nombre del juego" [(ngModel)]="juego.nombre"/>
                    <input *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.nombre" type="text" name="nombre" class="form-control input-error" placeholder="Nombre del juego" [(ngModel)]="juego.nombre"/>
                    <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.nombre">{{ errors.error.errors.nombre }}</p>
                </div>
            </div>
            <!-- genero principal input -->
            <div class="col-md-6">
                <div data-mdb-input-init class="form-outline mb-4">
                    <input *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.generoPrincipal" type="text" name="generoPrincipal" class="form-control" placeholder="Género principal" [(ngModel)]="juego.generoPrincipal"/>
                    <input *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.generoPrincipal" type="text" name="generoPrincipal" class="form-control input-error" placeholder="Género principal" [(ngModel)]="juego.generoPrincipal"/>
                    <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.generoPrincipal">{{ errors.error.errors.generoPrincipal }}</p>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- genero secundario input -->
            <div class="col-md-6">
                <div data-mdb-input-init class="form-outline mb-4">
                    <input type="text" name="generoSecundario" class="form-control" placeholder="Género secundario" [(ngModel)]="juego.generoSecundario"/>
                    <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.generoSecundario">{{ errors.error.errors.generoSecundario }}</p>
                </div>
            </div>
            <!-- PEGI input -->
            <div class="col-md-6">
                <div class="form-outline mb-4">
                    <select *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.pegi" class="form-control" name="pegi" [(ngModel)]="juego.pegi">
                        <option value="" disabled selected>Seleccione PEGI</option>
                        <option value="3">3</option>
                        <option value="6">7</option>
                        <option value="12">12</option>
                        <option value="16">16</option>
                        <option value="18">18</option>
                    </select>
                    <select *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.pegi" class="form-control input-error" name="pegi" [(ngModel)]="juego.pegi">
                        <option value="" disabled selected>Seleccione PEGI</option>
                        <option value="3">3</option>
                        <option value="6">7</option>
                        <option value="12">12</option>
                        <option value="16">16</option>
                        <option value="18">18</option>
                    </select>
                    <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.pegi">{{ errors.error.errors.pegi }}</p>
                </div>
            </div>
        </div>
        <!-- trailer input -->
        <div data-mdb-input-init class="form-outline mb-4">
            <input *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.trailer" type="text" name="trailer" class="form-control" placeholder="Trailer" [(ngModel)]="juego.trailer"/>
            <input *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.trailer" type="text" name="trailer" class="form-control input-error" placeholder="Trailer" [(ngModel)]="juego.trailer"/>
            <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.trailer">{{ errors.error.errors.trailer }}</p>
        </div>
        <!-- desarrollador input -->
        <div data-mdb-input-init class="form-outline mb-4">
            <input *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.desarrollador" type="text" name="desarrollador" class="form-control" placeholder="Desarrollador" [(ngModel)]="juego.desarrollador"/>
            <input *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.desarrollador" type="text" name="desarrollador" class="form-control input-error" placeholder="Desarrollador" [(ngModel)]="juego.desarrollador"/>
            <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.desarrollador">{{ errors.error.errors.desarrollador }}</p>
        </div>
        <!-- imagen input -->
        <div data-mdb-input-init class="form-outline mb-4">
            <input *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.imagen" type="file" name="imagen" accept="image/*" class="form-control" (change)="onFileSelected($event)"/>
            <input *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.imagen" type="file" name="imagen" accept="image/*" class="form-control input-error" (change)="onFileSelected($event)"/>
            <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.imagen">{{ errors.error.errors.imagen }}</p>
        </div>
        <!-- descripcion input -->
        <div data-mdb-input-init class="form-outline mb-4">
            <textarea *ngIf="!errors || !errors.error || !errors.error.errors || !errors.error.errors.descripcion" class="form-control" name="descripcion" rows="4"  placeholder="Descripcion(mínimo 100 máximo 500 caracteres)" [(ngModel)]="juego.descripcion" (input)="actualizarContador($event)"></textarea>
            <textarea *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.descripcion" class="form-control input-error" name="descripcion" rows="4"  placeholder="Descripcion(mínimo 100 máximo 500 caracteres)" [(ngModel)]="juego.descripcion" (input)="actualizarContador($event)"></textarea>
            <div id="contador-caracteres">0 caracteres</div>
            <p class="color-error" *ngIf="errors && errors.error && errors.error.errors && errors.error.errors.descripcion">{{ errors.error.errors.descripcion }}</p>
        </div>
        <div data-mdb-input-init class="form-outline mb-4">
            <p class="color-error" *ngIf="errors && errors.error && errors.error.message=='Este juego ya existe'">{{ errors.error.message }}</p>
        </div>
        <!-- Submit button -->
        <input type="submit" class="btn btn-primary btn-block mb-4" value="Enviar">
        </form>
    </div>
        <img [src]="rutaImagen1" alt="logo2">
    </section>
</body>
</html>
